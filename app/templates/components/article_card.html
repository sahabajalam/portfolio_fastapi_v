<!-- Medium-style Article Card -->
{% set short_cats = {
"Natural Language": "NLP",
"AI Engineering": "AI Eng",
"Tools & Frameworks": "Tools",
"Ethics & Security": "Ethics",
"Research & Insights": "Research"
} %}
<article class="card blog-item" data-category="{{ article.category|lower|replace(' ', '-') }}"
    data-tags="{{ article.tags|join(',') }}" aria-labelledby="card-title-{{ article.id }}">
    <div class="card-grid">
        <div>
            <div class="meta">
                <time datetime="{{ article.published_date.isoformat() }}">{{ article.published_date.strftime('%b %d,
                    %Y') }}</time>
                <span class="category-badge desktop-only">{{ article.category }}</span>
                <span class="category-badge mobile-only">{{ short_cats.get(article.category, article.category) }}</span>
                <span class="read-time" aria-hidden="true">{{ article.read_time }} min</span>
            </div>

            <h2 id="card-title-{{ article.id }}" class="title">
                {% if article.external_url %}
                <a class="title-link" href="{{ article.external_url }}" target="_blank" rel="noopener noreferrer">{{
                    article.title }}</a>
                {% else %}
                <a class="title-link" href="/noteonai/{{ article.id }}">{{ article.title }}</a>
                {% endif %}
            </h2>

            <p class="summary">{{ article.excerpt }}</p>

            {% if article.tags %}
            <div class="chips" aria-hidden="true">
                {% for tag in article.tags[:3] %}
                <span class="chip">{{ tag }}</span>
                {% endfor %}
            </div>
            {% endif %}
        </div>

        <div class="cover" aria-hidden="true">
            <img src="{{ article.image_url or 'https://images.unsplash.com/photo-1446776811953-b23d57bd21aa?q=80&w=800&auto=format&fit=crop' }}"
                alt="{{ article.title }}" loading="lazy">
        </div>
    </div>
</article>